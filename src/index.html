<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>APOD Viewer</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="css/main.css">
	</head>
	<body ng-app="app">
		<div ng-controller="ApodViewerCtrl as vm">
			<h4>{{vm.apodData.title}}</h4>
			<div ng-show="vm.apodData.error">
				<h3>An ERROR has occurred retrieving the NASA Astronomy Picture of the Day. {{vm.apodData.message}}</h3>
			</div>
			<div class="embed-responsive embed-responsive-16by9" ng-show="vm.video">
				<iframe class="embed-responsive-item" ng-src="{{vm.apodData.url | trusted}}" allowFullScreen></iframe>
			</div>
			<div ng-hide="vm.video">
				<img class="img-responsive center-block" alt="NASA Picture of the day" ng-src="{{vm.apodData.url}}">
			</div>
			<h5>{{vm.apodData.explanation}}</h5>
			<h6>
				<em>(Title, image/video, and explanation loaded automatically from NASA's APOD API endpoint. These data change daily.)</em>
			</h6>
				<form>

					Date:
					<input type="date"  ng-model="vm.apodDate" min={{vm.firstDayStr}} max={{vm.todaysDateStr}} required>
					<input type="button" class="btn" ng-model="vm.apodDate" ng-click="vm.changeDate()" ng-disabled="vm.outsideApodDates()" value="Change Day">
					<br>
					<input type="button" class="btn" ng-click="vm.prevDay()" ng-disabled="vm.beforeApodDate()" value="Previous">
					<input type="button" class="btn" ng-click="vm.nextDay()" ng-disabled="vm.afterApodDate()" value="Next">
					<br>
					<p>The DEMO_KEY has limited hourly and daily rates per ip address. You can apply for your own
						<a href="https://api.nasa.gov/index.html#apply-for-an-api-key">api key</a> for increased limits.</p>
					<label>API_KEY:
						<input type="text" ng-model="vm.apikey">
					</label>
					<input type="button" class="btn" ng-click="vm.updateKey(vm.apikey)" value="Change Key">
				</form>
			
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<!--<ng-apod-viewer></ng-apod-viewer>-->
		<!--<script src="js/angular.js"></script>
		<script src="js/main.js"></script>
		<script src="js/controllers.js"></script>
		<script src="js/apodviewerctrl.js"></script>
		<script src="js/services.js"></script>
		<script src="js/apodservice.js"></script>
		<script src="js/filters.js"></script>
		<script src="js/trustedfilter.js"></script>-->
		<script src="js/app.min.js"></script>

	</body>

</html>